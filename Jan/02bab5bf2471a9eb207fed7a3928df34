New York (CNN Business)A surge in Covid cases and severe winter storms created a miserable holiday travel season for hundreds of thousands of stranded airline passengers. But airlines' staffing cuts were also to blame for the 20,000 US flight that have been canceled over the last two weeks. Airlines went into the busiest travel period of the past two years with significantly fewer employees than they had before the pandemic hit in early 2020. That stretched staff too thin and left the airlines unable to adjust when a large number of employees tested positive for Covid and bad winter weather hit major airport hubs from Denver to Washington. So it shouldn't have come as a surprise that travel didn't go smoothly this holiday season. In fact, it was predicted by some industry experts. "Granted, Omicron wave was a swift surprise. However, it was made worse by a failure to plan for any hiccups, be it weather or virus," said Dennis Tajer, an American Airlines 737 pilot and spokesperson for the Allied Pilots Association, the union at the nation's largest airline. "Bottom line, management sold tickets it couldn't fulfill with any duress. It doesn't seem they stress-tested their ops plan."  The airlines all said they were doing their best to accommodate passengers in the face of widespread problems. Many of the flights were canceled in advance to allow the greatest possible notice to passengers. For example, nearly 300 US flights originally scheduled for Wednesday have already been canceled. And all the airlines say they are doing what they can to hire the staffing needed so that they don't have future problems. But these widespread challenges have become far more frequent, with airline employees complaining that they've been stretched to the breaking point by difficult work conditions. How airlines cut staff Airlines agreed early in the pandemic that they would not involuntarily lay off staff in return for $54 billion in federal help. But the four major airlines responded to massive losses as demand for air travel plunged by offering voluntary buyout packages and early retirement plans for staff. That reduced the number of airline employees by thousands. The airlines cheered when they made it through Thanksgiving week with very low cancellation rates. But the day after Thanksgiving, the world was introduced to the Omicron variant, which would wreak havoc with staffing levels by the end of the year. And it's a problem that won't be going away, even when the snow stops falling and holiday travelers eventually make it home. "The real storm is Omicron. That might peak at the end of January. The snowstorms are minor issues by comparison," said Brian Kelly, founder and CEO of The Points Guy, an airline travel site. Kelly said no matter what preparations the airlines made, the surge in Covid cases brought on by the very contagious Omicron variant was going to cause problems. "No one could have planned for Omicron. It's the curveball of curveballs," he said. "I give the industry a thumbs up for trying to plan as much as they could." But Kelly said it's also clear that airlines cut staffing too deeply in 2020. "We're at a breaking point," Kelly said. "Where we're at today is not sustainable. They need to hire more, to have more staff to fall back on." The airlines all say they are hiring, but with certification rules and regulations, it takes much longer to hire new staff than it might for other employers — in some cases a year or more. And given the uncertainty about the return of passenger traffic, airlines are still not back to pre-pandemic employment levels. Headcounts at the four major airlines that handle an overwhelming majority of US passengers — American, Delta, United and Southwest — were down between 10% and 11% as of September 30, compared to where they stood on December 31, 2019. Deliberate decision to trim staff Some of that reduced staffing was due to a deliberate decision by the airlines, which for years have been striving to offer more flights, and carry more passengers, with a reduced number of employees. "We had 20,000 people leave," said Delta CEO Ed Bastian at an investor presentation in December. And even though the airline has so far only filled 9,000 of those vacant positions, "our staffing is exactly where I want it to be," he said. Additional hiring will come as the company tries to expand capacity beyond where it was before the pandemic. Although the airlines say they are getting job applicants they need to fill jobs, they also admit to getting fewer applicants per opening than they did in the past. And even some of the staff that took unpaid leave have been slower to return than the airlines had hoped. Airline executives have admitted it was tougher to fill positions that they expected a year ago. "An assumption that I made was that we were going to call them and say, 'OK, it's time to come back,' [and] they're going to show up, everything will be just like it was," said Southwest CEO Gary Kelly, speaking to investors in October. But he said recalling workers hasn't been that straightforward, with many employees who had been off work deciding they didn't want to return. "I think all that will smooth out, both with our existing employees that we're trying to get back in and settle back and new hires as well," he said. "But it's not going to be here in the fourth quarter. It's going to take a while." And without as much depth in staffing, when problems arise it can take a long time to recover. That's what happened in various service meltdowns earlier in 2020 at Southwest and American airlines. And it's one of the reasons more than 1,200 flights were canceled on Wednesday, even though the bad weather is over. "It's going to take a long time, up to a week, to put the pilots and planes where they need to be," said Kerry Tan, business professor at Loyola University of Maryland and an expert on airlines. Another knock-on effect: As major airlines hire new staff, they're taking much-needed staff away from the lower-paid regional carriers that fly many of the feeder flights booked under the American, United and Delta brands. "These are the airlines that have the least amount of slack," said Tan. One of the major regional carriers, Skywest, "had nearly a quarter of their scheduled flights canceled," he said. Tight staffing issues aren't new: The airlines have for years been taking steps to try to handle more and more passengers with fewer and fewer employees. In 2002, US passenger airlines had 520,000 employees handling 613 million passengers. That's one employee for roughly every 1,200 passengers throughout the course of the year. By 2019, employment had fallen to 485,000, but passenger traffic was up more than 50% to a record 926 million, or more than 2,000 passengers per employee. "We estimate that we can fly at schedule 10% larger than 2019 with the same number of employees we needed in 2019," said United CFO Gerald Laderman in an October call with investors. -- CNN's Gregory Wallace contributed to this report 