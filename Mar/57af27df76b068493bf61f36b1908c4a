(CNN)A massive spending bill that would fund the federal government through September -- as well as provide $13.6 billion in fresh aid to Ukraine as the country fights back against Russia's invasion -- was passed by the Senate on Thursday evening. The spending bill, known as the omnibus, would provide funding through fiscal year 2022, which started in October. Lawmakers have been negotiating over the legislation for months and have passed three stopgap funding bills to keep the government running in the meantime. That means federal agencies have been funded at 2021 levels for the past five months. The text of the 2,741-page bill was released early Wednesday morning. Congress had to pass the legislation, or another stopgap bill, by midnight Friday to avoid a government shutdown. The House passed the bill on Wednesday night. The spending bill calls for more than $1.5 trillion in annual appropriations, excluding the Ukraine aid. That's more than a 6% increase from the year before, according to the Committee for a Responsible Federal Budget. The legislation would provide $730 billion in non-defense funding -- a 6.7% increase over fiscal year 2021 -- the largest jump in four years, according to the House Appropriations Committee. It also would provide $782 billion in defense funding, a 5.6% increase over fiscal year 2021. Here's what some of the money will fund, according to summaries and fact sheets provided by the House Appropriations Committee: Increases for congressional offices, staff and police The bill calls for an increase in funding for congressional offices by 21%, to $774.4 million, so they can recruit and retain a diverse workforce. It would be the largest boost in the Members Representational Allowance appropriation since its authorization in 1996. The package would also provide $18.2 million to pay interns. It would provide $602.5 million for the Capitol Police, an increase of $87 million. This will allow for the hiring of up to 2,112 sworn officers and 450 civilian members of the Capitol Police. A boost for the IRS The spending bill would provide $12.6 billion for the Internal Revenue Service, an increase of $675 million, the largest since 2001. The funding boost is intended to help the IRS improve its customer service, increase enforcement, modernize its technology and improve its web applications. It also would provide special funding transfer authority and direct hire authority to help the agency deal with a massive backlog of returns and correspondence. Money for election security The package would provide $75 million for election security grants to bolster state efforts to improve the security and integrity of elections for federal office. It also would give the Election Assistance Commission $20 million for operating expenses, a boost of $3 million. Schools and financial aid boost The bill would provide $17.5 billion for high-poverty K-12 schools, an increase of $1 billion, the largest in more than a decade. And it calls for increasing funding for Head Start by $289 million to $11 billion. The maximum Pell Grant would increase by $400, to $6,895 a year. Pell Grants are generally awarded to undergraduate students with exceptional financial needs, and the amounts are based on their costs to attend school, family sizes and incomes. The increase would be the largest to the maximum Pell Grant in more than a decade, according to a summary of the bill. The Build Back Better package, which passed the House last year but stalled in the Senate, had called for increasing the maximum Pell Grant award by $550. Funds for medical research and public health The package would provide more funding for biomedical and behavioral research at the National Institutes of Health, which would receive $45 billion in funding, an increase of $2.25 billion. It would include $1 billion to establish the Advanced Research Projects Agency for Health in order to speed up the pace of scientific breakthroughs for diseases such as ALS, Alzheimer's, diabetes and cancer. It would send $8.5 billion to the Centers for Disease Control and Prevention, an increase of $582 million. And it would invest in the nation's public health infrastructure and public health and behavioral health initiatives, including $83 million for safe motherhood and infant health, an increase of $20 million, and nearly $212 million for mental health resources for children and youth, an increase of $25 million. Unlocks new infrastructure investment The passage of the spending bill would allow the release of some of the funding authorized by the bipartisan Infrastructure Investment and Jobs Act, which passed in November. Due to a budgeting quirk, some of the money cannot be spent until the fiscal year 2022 appropriations measure is signed into law. The restriction affects a portion of the funds slated for the federal highway program and public transit programs, for example. Renews the Violence Against Women Act The bill renews the Violence Against Women Act, which expired in 2018, by increasing funding for its prevention and prosecution programs, as well as efforts to reduce the backlog of unprocessed rape kits, according to a fact sheet. Child nutrition programs The bill would provide $26.9 billion in funding for child nutrition programs, an increase of $1.77 billion above what was approved for fiscal year 2021. However, the spending bill does not extend the pandemic waivers that provide schools with extra federal funds and increased flexibilities to cope with Covid-19 outbreaks, as well as supply chain and labor issues. A one-year extension of the waivers, which Congress originally approved in March 2020, would have cost $11 billion. The bill would also authorize funds so that more fruits and vegetables can be included in the Special Supplemental Nutrition Program for Women, Infants, and Children food packages. More housing aid The Department of Housing and Urban Development would get an increase of $4 billion over the previous year, for a total of $53.7 billion, according to a summary. Some of the funds would create 25,000 new Housing Choice Vouchers for low-income individuals and families at risk of homelessness, including survivors of domestic violence and veterans. Eligible people could use the vouchers to find their own housing and pay rent. Cybersecurity protection The spending bill would increase funding for the Cybersecurity and Infrastructure Security Agency by $568.7 million, for a total of $2.6 billion to prevent cyberattacks and protect critical infrastructure and communications systems, according to a fact sheet. Closing a vaping loophole A provision in the bill targets vaping products that remained on the market despite growing efforts to clamp down on flavors that are especially popular among young people. It would move synthetic nicotine under the US Food and Drug Administration's authority, according to an announcement Wednesday by Senate Majority Whip Dick Durbin, an Illinois Democrat. While the FDA has authority over tobacco products, some companies have made their own synthetic nicotine in the lab. Because synthetic nicotine doesn't come from tobacco, companies have managed to circumvent the agency's oversight and keep their flavored products on shelves. Defense Spending on defense and national security makes up more than half of the spending bill. The measure calls for an increase in funds for military personnel, operations, research and the purchase of ground vehicles, aircraft, ships, munition and other equipment, according to a summary. Ukraine aid The $13.6 billion would provide additional humanitarian, security and economic assistance for Ukraine and allies in the region. Roughly half of the aid package would be used to deploy troops to the region and send defense equipment to Ukraine, according to a summary of the bill provided by the House Appropriations Committee. The US has deployed thousands of troops throughout Europe, both before and during Russia's invasion of Ukraine. But putting troops on the ground in Ukraine, which is not a member of NATO, is a line that the US and its Western allies have not been willing to cross. Much of the other half of the aid would provide humanitarian support for refugees fleeing Ukraine and people displaced within the country, including emergency food assistance, as well as help to respond to the economic needs in Ukraine and neighboring countries, such as cybersecurity and energy issues. What's not in the bill? Covid-19 relief The bill text originally included $15.6 billion to fund the government's Covid-19 response efforts in the US and around the world, including research and development of treatments and vaccines. But the funding was stripped from the bill in a last-minute effort to lock down votes Wednesday. Republicans had pushed for the money to be offset by previously approved Covid-19 relief funds for state governments that had yet to be used, but many Democrats raised objections about the way those offsets were structured. Instead, House Appropriations Chair Rosa DeLauro, a Connecticut Democrat, introduced a stand-alone bill with the Covid-19 response funds. But it's unlikely that the separate package would get the 60 votes needed to pass the Senate. This story has been updated Thursday with Congress passing the spending bill. 